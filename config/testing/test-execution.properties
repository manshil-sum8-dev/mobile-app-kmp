# Test Execution Configuration for Quantive KMP Project
# Optimizes test performance and reliability for CI/CD pipelines

# ===== PARALLEL EXECUTION =====
junit.jupiter.execution.parallel.enabled=true
junit.jupiter.execution.parallel.mode.default=concurrent
junit.jupiter.execution.parallel.mode.classes.default=same_thread
junit.jupiter.execution.parallel.config.strategy=dynamic

# ===== MEMORY OPTIMIZATION =====
# Configure JVM heap for test execution
test.jvm.memory.initial=1g
test.jvm.memory.maximum=4g
test.jvm.memory.metaspace=512m

# ===== TIMEOUT CONFIGURATION =====
# Default timeouts for different test types
test.timeout.unit=30s
test.timeout.integration=60s
test.timeout.ui=120s
test.timeout.screenshot=180s

# ===== RETRY CONFIGURATION =====
# Retry flaky tests automatically
test.retry.enabled=true
test.retry.max_attempts=3
test.retry.delay=1000ms

# ===== REPORTING =====
# Enhanced test result reporting
test.reporting.include_causes=true
test.reporting.include_stack_traces=true
test.reporting.summary_threshold=10

# ===== CACHE CONFIGURATION =====
# Test result and dependency caching
test.cache.enabled=true
test.cache.max_size=500MB
test.cache.cleanup_threshold=0.8

# ===== PLATFORM-SPECIFIC SETTINGS =====

# Android Test Settings
android.test.device_timeout=300s
android.test.install_timeout=120s
android.test.screenshot_timeout=30s

# iOS Test Settings (when applicable)
ios.test.simulator_timeout=180s
ios.test.device_timeout=300s

# ===== CI/CD OPTIMIZATIONS =====

# GitHub Actions specific
ci.github.test_sharding=true
ci.github.parallel_jobs=4
ci.github.artifact_retention=7days

# General CI optimizations
ci.skip_slow_tests=false
ci.test_selection_enabled=true
ci.incremental_testing=true

# ===== COVERAGE SETTINGS =====
coverage.minimum_threshold=80
coverage.core_module_threshold=85
coverage.repository_threshold=70
coverage.platform_threshold=60

# ===== DEBUGGING =====
# Enable for troubleshooting test issues
test.debug.enabled=false
test.debug.port=5005
test.debug.suspend=false
test.verbose_logging=false